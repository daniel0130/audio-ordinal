// ScriptLoader.js
!async function(){const t=document.createElement("canvas");t.id="cv",document.body.append(t),Object.assign(document.body.style,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",margin:"0"});const o=()=>{window.cci2=0,window.initialCCI2=0,resetAllStates(),loadJsonFromUrl(window.jsonDataUrl),initializeWorker()};try{await new Promise((t=>{const o=()=>window.jsonDataUrl?t():setTimeout(o,100);o()})),console.log("Fetching from URL:",window.jsonDataUrl);const t=await fetch(window.jsonDataUrl);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);window.settings=await t.json(),console.log("Settings loaded:",window.settings),await(async t=>{for(const o of t)await new Promise(((t,n)=>{const e=document.createElement("script");e.src=o,e.onload=t,e.onerror=()=>n(new Error(`Failed to load script: ${o}`)),document.head.append(e)}))})(window.scriptsToLoad),await ensureAudioContextState(),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",o):o()}catch(t){console.error("Error initializing the app:",t)}console.log(`[${(new Date).toISOString()}] [debugScriptloading] ScriptLoader initialized.`)}();
