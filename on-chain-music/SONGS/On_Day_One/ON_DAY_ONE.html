<!DOCTYPE html>
<html>
<head>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
            background-color: black;
        }
        #overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: black;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        #overlay-content {
            width: 500px;
            height: 500px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        #overlay img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
        #clickLock {
            position: fixed;
            top: 0;
            left: 75px;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 10001;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #f7931a; /* Bitcoin orange color */
            font-size: 24px;
        }

        @keyframes flash {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }

        #clickRoss {
            position: absolute;
            top: 50px;
            width: 100%;
            text-align: center;
            color: white;
            font-weight: bold;
            font-size: 24px;
            z-index: 1001;
            margin-top: 10px; /* Adjust margin as needed */
            display: none; /* Initially hide the element */
            animation: flash 1s infinite; /* Flashing effect */
        }


    </style>
</head>
<body>
    <div id="clickRoss">Click Ross to Play</div>

    <div id="clickLock">Loading...</div>
<div id="playButton"></div>
<script>
  window.seed = 1;
document.title = "ON DAY ONE";
window.songDataUrl = "/content/633100d631767ddb9a309f5a2a66f5a66d5abd839f3b1c55642690d484189971i0";
window.albumArtUrl = "/content/bdfd37e1e3e11f7fac01dc84ba27dec72cc653987943018388f772f18a2056aei0";

let loadStatus = {
    pakoLoaded: false,
    dataDeserialized: false,
    settingsLoaded: false,
    colorSettingsLoaded: false,
    audioContextRunning: false
};

const loadingMessages = [
    "Breaking the chains...",
    "Escaping the matrix...",
    "Decrypting Ross's files...",
    "Mixing FREEDOM tunes...",
    "Hiding the shiv...",
    "Bribing the guards...",
    "Picking the locks...",
    "Disabling cameras...",
    "Casing the joint...",
    "Liberating beats...",
    "Freeing the playlist...",
    "Smuggling in beats...",
    "Handling the TRUTH...",
    "Unlocking melodies...",
    "Tuning escape tunes...",
    "Preparing heist beats...",
    "Loading crypto beats...",
    "Writing goodbye notes...",
    "Stealth mode activated...",
    "Washing off the chains...",
    "Heading to Nashville...",
    "Removing shackles...",
    "Flushing contraband...",
    "Hacking FREEDOM...",
    "Breaking the chains",
    "Disabling cameras",
    "Handling the truth",
    "Escaping tyranny...",
    "Crypto tunes loading...",
    "FREEDOM in progress...",
    "Painting escape plan...",
    "Readying escape tunnel...",
    "Activating covert tunes...",
    "Liberation jams...",
    "Loading FREEDOM anthem...",
    "Nailing the FREEDOM strut...",
    "Quick FREEDOM stretch routine...",
    "Decrypting escape plan...",
    "Clearing out lockers...",
    "Loading liberation beats..."
];

console.log("Initial load details:", { seed: window.seed, title: document.title, songDataUrl: window.songDataUrl, albumArtUrl: window.albumArtUrl });

const getRandomMessage = () => loadingMessages[Math.floor(Math.random() * loadingMessages.length)];

const updateLoadingText = text => {
    const clickLock = document.getElementById('clickLock');
    if (clickLock) {
        clickLock.textContent = text;
        clickLock.style.color = '#f7931a'; // Bitcoin orange color
    }
};

const removeClickLock = () => {
    const clickLock = document.getElementById('clickLock');
    if (clickLock) clickLock.remove();

    const clickRoss = document.getElementById('clickRoss');
    if (clickRoss) {
        clickRoss.style.display = 'block';

        // // Flashing effect for 10 seconds
        // setTimeout(() => {
        //     clickRoss.style.display = 'none';
        // }, 10000);

        // Hide clickRoss when playback starts
    }
};

const checkAllLoaded = () => {
    if (Object.values(loadStatus).every(status => status)) {
        console.log("All components loaded, removing click lock");
        removeClickLock();
    }
};

const showLoadingSequence = () => {
    const stages = ['pakoLoaded', 'dataDeserialized', 'settingsLoaded', 'colorSettingsLoaded', 'audioContextRunning'];
    const selectedStages = stages.filter(() => Math.random() > 0.5);

    selectedStages.forEach((stage, index) => {
        setTimeout(() => {
            updateLoadingText(getRandomMessage());
            checkAllLoaded();
        }, index * 1000); // Ensure there's a minimal delay between each update for user experience
    });

    if (selectedStages.length === 0) {
        // If no stages were selected to update, just check if all are loaded
        checkAllLoaded();
    }
};

// Event listener for playback starting event
document.addEventListener('channelPlaybackStarted', () => {
    const clickRoss = document.getElementById('clickRoss');
    if (clickRoss) clickRoss.style.display = 'none';
});

// Event listener for playback started
document.addEventListener("playbackStarted", () => {
    const clickRoss = document.getElementById('clickRoss');
    if (clickRoss) clickRoss.style.display = 'none';
});

// Event listener for playback stopped
document.addEventListener("playbackStopped", () => {
    const clickRoss = document.getElementById('clickRoss');
    if (clickRoss) {
        clickRoss.style.display = 'block';

        // Restart the flashing effect
        setTimeout(() => {
            clickRoss.style.display = 'none';
        }, 10000);
    }
});

document.addEventListener('pakoLoaded', () => { loadStatus.pakoLoaded = true; if (Math.random() > 0.5) updateLoadingText(getRandomMessage()); checkAllLoaded(); });
document.addEventListener('dataDeserialized', () => { loadStatus.dataDeserialized = true; if (Math.random() > 0.5) updateLoadingText(getRandomMessage()); checkAllLoaded(); });
document.addEventListener('settingsLoaded', () => { loadStatus.settingsLoaded = true; if (Math.random() > 0.5) updateLoadingText(getRandomMessage()); checkAllLoaded(); });
document.addEventListener('colorSettingsLoaded', () => { loadStatus.colorSettingsLoaded = true; if (Math.random() > 0.5) updateLoadingText(getRandomMessage()); checkAllLoaded(); });
document.addEventListener('audioContextRunning', () => { loadStatus.audioContextRunning = true; if (Math.random() > 0.5) updateLoadingText(getRandomMessage()); checkAllLoaded(); });

document.addEventListener("DOMContentLoaded", () => {
    const originalTitle = document.title;
    console.log("DOMContentLoaded event fired");

    document.body.insertAdjacentHTML('beforeend', `<div id="overlay"><div id="overlay-content"><img src="${window.albumArtUrl}" alt="Album Artwork" id="overlay-image"></div></div>`);
    console.log("Overlay added with album artwork");

    const scriptElement = document.createElement("script");
    scriptElement.src = "/content/8ab830bf8385d5f68e944948fd1f6109de5d7acc68c62b7f7827f330d40ac2bdi0";
    document.body.appendChild(scriptElement);
    console.log("Additional script added:", scriptElement.src);

    new MutationObserver(() => {
        if (document.title !== originalTitle) {
            console.log("Title changed from", document.title, "to", originalTitle);
            document.title = originalTitle;
        }
    }).observe(document.querySelector("title"), { childList: true });
    console.log("MutationObserver set up for title changes");

    const clickLock = document.getElementById('clickLock');
    if (clickLock) {
        clickLock.addEventListener('click', event => {
            event.stopPropagation();
            event.preventDefault();
        });
    }
});

showLoadingSequence();
updateLoadingText(getRandomMessage());

setTimeout(() => document.dispatchEvent(new Event('pakoLoaded')), 1000);
setTimeout(() => document.dispatchEvent(new Event('dataDeserialized')), 2000);
setTimeout(() => document.dispatchEvent(new Event('settingsLoaded')), 3000);
setTimeout(() => document.dispatchEvent(new Event('colorSettingsLoaded')), 4000);
setTimeout(() => document.dispatchEvent(new Event('audioContextRunning')), 5000);


</script>





</body>
</html>
