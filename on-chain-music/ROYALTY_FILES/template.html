<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generate Royalty Receipt</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
        }
        .form-group input {
            width: 100%;
            padding: 8px;
            box-sizing: border-box;
        }
        .form-group input[readonly] {
            background-color: #f0f0f0;
        }
        button {
            padding: 10px 15px;
            margin-right: 10px;
        }
        button#generateIndividualReceipt {
            background-color: red;
            color: white;
            cursor: not-allowed;
        }
        button#generateIndividualReceipt[enabled="true"] {
            background-color: green;
            cursor: pointer;
        }
        #receipt {
            display: none;
            width: 600px;
            height: 600px;
            position: relative;
            border: 1px solid #000;
            padding: 20px;
            box-sizing: border-box;
            overflow: hidden;
            background: none; /* No default background */
        }
        #receipt::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: var(--bg-url);
            background-size: cover;
            background-position: center;
            opacity: 0.2;
            z-index: 1;
        }
        #receipt-content {
            position: relative;
            z-index: 2;
            color: black; /* Ensure text remains black */
        }
        #receipt img, #receipt iframe {
            position: absolute;
            top: 10px;
            right: 10px;
            max-width: 100px;
            max-height: 100px;
        }
        .tooltip {
            position: relative;
            display: inline-block;
        }
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: black;
            color: #fff;
            text-align: center;
            border-radius: 5px;
            padding: 5px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -100px;
            opacity: 0;
        }
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Generate Royalty Receipt</h1>
        <div class="form-group">
            <label for="songName">Song Name:</label>
            <input type="text" id="songName">
        </div>
        <div class="form-group">
            <label for="songUrl">Song URL:</label>
            <input type="text" id="songUrl">
        </div>
        <div class="form-group">
            <label for="ordinalElementId">Ordinal Element ID Used In Song:</label>
            <input type="text" id="ordinalElementId" oninput="checkOrdinalElementId()">
        </div>
        <div class="form-group">
            <label for="collectionArtworkUrl">Song Collection Artwork URL:</label>
            <input type="text" id="collectionArtworkUrl">
        </div>
        <div class="form-group">
            <label for="receiptBackgroundUrl">Receipt Background Artwork URL:</label>
            <input type="text" id="receiptBackgroundUrl">
        </div>
        <div class="form-group">
            <label for="totalCollectionSize">Total Collection Size:</label>
            <input type="number" id="totalCollectionSize" value="1000" oninput="calculate()">
        </div>
        <div class="form-group">
            <label for="pricePerItem">Price Per Item (BTC):</label>
            <input type="number" id="pricePerItem" value="0.00025" oninput="calculate()">
        </div>
        <div class="form-group">
            <label for="totalItemsSold">Total Items Sold:</label>
            <input type="number" id="totalItemsSold" value="1000" oninput="calculate()">
        </div>
        <div class="form-group">
            <label for="totalEarned">Total Earned (BTC):</label>
            <input type="number" id="totalEarned" value="0.045" oninput="calculate()">
        </div>
        <div class="form-group">
            <label for="marketplaceCut">Marketplace Cut (%):</label>
            <input type="number" id="marketplaceCut" value="10" oninput="calculate()">
        </div>
        <div class="form-group">
            <label for="numRecipients">Number of Royalty Recipients:</label>
            <input type="number" id="numRecipients" value="16" oninput="calculate()">
        </div>
        <div class="form-group">
            <label for="totalReceived">Total Received After Costs (BTC):</label>
            <input type="number" id="totalReceived" readonly>
        </div>
        <div class="form-group">
            <label for="totalRoyalties">Total Royalties Earned (BTC):</label>
            <input type="number" id="totalRoyalties" readonly>
        </div>
        <div class="form-group">
            <label for="royaltySplit">Each Royalty Split Receives (BTC):</label>
            <input type="number" id="royaltySplit" readonly>
        </div>
        <button onclick="generateDataFile()">Generate Data File</button>
        <button onclick="loadDataFile()">Load Data File</button>
        <div class="tooltip">
            <button id="generateIndividualReceipt" onclick="generateIndividualReceipt()" disabled>Generate Individual Receipt</button>
            <span class="tooltiptext">Must have a unique Ordinal ID before generating an individual receipt</span>
        </div>
        <div id="receipt">
            <img id="collectionArtwork" src="" alt="Collection Artwork">
            <iframe id="collectionArtworkIframe" src="" style="display:none;"></iframe>
            <div id="receipt-content"></div>
        </div>
    </div>
    <script>
      // Utility function for validation
     
  </script>
  <script src="calculations.js"></script>
  <script src="receipt.js"></script>

</body>
</html>
