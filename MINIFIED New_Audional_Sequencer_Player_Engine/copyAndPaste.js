let isCopyPasteEvent=!1,copiedData=null;function validateAndUpdateUI(e){isValidSequence(window.unifiedSequencerSettings.getSequenceSettings(e))?(updateUIForSequence(e),console.log(`[copyPasteDebug] UI updated for sequence index: ${e}`)):console.error(`[copyPasteDebug] Invalid sequence settings for sequence index: ${e}`)}function isValidSequence(e){if(!e||"object"!=typeof e)return console.log("[copyPasteDebug] Sequence is not an object."),!1;for(let t in e){if(!isValidChannel(e[t]))return console.log(`[copyPasteDebug] Invalid channel data in sequence: ${t}`),!1}return console.log("[copyPasteDebug] Sequence is valid for paste."),!0}function isValidChannel(e){return e&&Array.isArray(e.steps)&&"boolean"==typeof e.mute&&"string"==typeof e.url}function showConfirmationTooltip(e){const t=document.createElement("div");t.innerText=e,t.style.position="absolute",t.style.background="#333",t.style.color="white",t.style.padding="5px",t.style.borderRadius="5px",t.style.top="50%",t.style.left="50%",t.style.transform="translate(-50%, -50%)",t.style.zIndex="1000",document.body.appendChild(t),setTimeout((()=>{t.remove()}),3e3)}document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("copy-sequence-settings"),t=document.getElementById("paste-button");e&&(console.log("[copyPasteDebug] Copy button clicked."),e.addEventListener("click",(function(){const e=window.unifiedSequencerSettings.getCurrentSequence(),n=window.unifiedSequencerSettings.getSequenceSettings(e);copiedData={type:"sequence",sequenceSettings:JSON.parse(JSON.stringify(n))},console.log("[copyPasteDebug] Sequence settings copied:",copiedData),t&&t.classList.add("flashing"),showConfirmationTooltip("[copyPasteDebug] Copied sequence settings. Select another sequence to paste to.")}))),t&&t.addEventListener("click",(function(){if(console.log("[copyPasteDebug] pasteButton clicked"),!copiedData||"sequence"!==copiedData.type)return void alert("No sequence data copied to paste!");const e=window.unifiedSequencerSettings.getCurrentSequence();console.log(`[copyPasteDebug] Current sequence index: ${e}`),window.unifiedSequencerSettings.setSequenceSettings(e,copiedData.sequenceSettings),console.log(`[copyPasteDebug] Sequence settings pasted to sequence index ${e}: ${JSON.stringify(copiedData)}`),updateUIForSequence(e),console.log(`[copyPasteDebug] updateUIForSequence called with sequence index: ${e}`),console.log(`[copyPasteDebug] Current sequence index according to the global object is now: ${window.unifiedSequencerSettings.getCurrentSequence()}`),this.classList.remove("flashing"),validateAndUpdateUI(e)}))}));