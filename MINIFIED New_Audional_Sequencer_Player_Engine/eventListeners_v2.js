const appContainer=document.getElementById("drum-machine");appContainer.addEventListener("click",(()=>{audioContext.resume().then((()=>{console.log("Playback resumed successfully")}))})),document.addEventListener("DOMContentLoaded",(function(){document.getElementById("save-button");let e=document.getElementById("load-file-input"),n=document.getElementById("new-load-button"),t=document.getElementById("loadOptions"),o=document.getElementById("loadJson"),l=!1;n.addEventListener("click",(()=>{console.log("[Save/Load debug] Load button clicked"),l||(n.classList.remove("smooth-wave"),n.style.animation="none",l=!0),t.style.display="none"===t.style.display||""===t.style.display?"block":"none"})),o.addEventListener("click",(()=>{console.log("[Save/Load debug] loadJson clicked"),e.click(),t.style.display="none"})),e.addEventListener("change",(()=>{console.log("[Save/Load debug] loadFileInput change event");let n=e.files[0],t=new FileReader;t.onload=async function(e){console.log("File read start");let n=JSON.parse(e.target.result);if(console.log("[loadFileInput] File content:",n),window.unifiedSequencerSettings.loadSettings(n),n.channelURLs&&Array.isArray(n.channelURLs))for(let e=0;e<n.channelURLs.length;e++){const t=n.channelURLs[e];if(t){const n=document.getElementById(`load-sample-button-${e}`);await fetchAudio(t,e,n)}}},t.readAsText(n)}))})),window.addEventListener("message",(function(e){})),document.querySelector(".close-button").addEventListener("click",(function(){console.log("Close button clicked"),document.getElementById("audio-trimmer-modal").style.display="none",console.log("Modal closed")})),window.onclick=function(e){const n=document.getElementById("audio-trimmer-modal");e.target===n&&(console.log("Clicked outside the modal"),n.style.display="none",console.log("Modal closed"))},document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("project-name");e.addEventListener("input",(()=>{const n=e.value.trim();window.unifiedSequencerSettings.updateSetting("projectName",n),n||(e.value="Default Project Name")}))}));