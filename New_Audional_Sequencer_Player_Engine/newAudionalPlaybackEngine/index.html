<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audional Playback Engine</title>
</head>
<body>

    <div id="controls">
        <input type="file" id="loadFile" accept=".json">
        <button id="playButton">Play</button>
        <button id="stopButton" disabled>Stop</button>
    </div>

    <!-- Correctly include the script files based on the functionality they provide -->
    <script src="audioUtils.js"></script>
    <script src="centralSettings/formattingHelpers.js"></script>
    <script src="centralSettings/globalObjectClass.js"></script>
    <script src="audioTrimModuleHelperFunctions.js"></script>
    <script src="audioTrimModule_v2.js"></script>       
    <script src="centralSettings/globalObjectHelperFunctions_v2.js"></script>
    <script src="centralSettings/importExportGlobalSettings.js"></script>
    <script src="channelSettings.js"></script>
    <!-- <script type="module" src="channelsForEach.js"></script> -->
    <script src="index.js"></script>
    <script src="observers.js"></script>
    <script src="sequenceChannelSettings.js"></script>
    <script src="sequenceChannelSettings_Part2.js"></script>
    <script src="stepHandling.js"></script>
    <script src="stepSchedulers.js"></script>
    <script src="timingMessages.js"></script>

    <script>
        document.getElementById('loadFile').addEventListener('change', function(event) {
            const fileReader = new FileReader();
            fileReader.onload = function(fileLoadedEvent) {
                const jsonContent = JSON.parse(fileLoadedEvent.target.result);
                window.unifiedSequencerSettings.loadSettings(jsonContent);
                // Implement any necessary UI update logic here, 
                // e.g., window.unifiedSequencerSettings.updateAllLoadSampleButtonTexts();
            };

            const file = event.target.files[0];
            if (file) {
                fileReader.readAsText(file);
            }
        });

        // Play button listener
        document.getElementById('playButton').addEventListener('click', function() {
            // Assuming a function exists to start playback
            startScheduler(); // Correct function name based on your actual implementation
            document.getElementById('playButton').disabled = true;
            document.getElementById('stopButton').disabled = false;
        });

        // Stop button listener
        document.getElementById('stopButton').addEventListener('click', function() {
            // Assuming a function exists to stop playback
            stopScheduler(); // Correct function name based on your actual implementation
            document.getElementById('playButton').disabled = false;
            document.getElementById('stopButton').disabled = true;
        });
    </script>
</body>
</html>
